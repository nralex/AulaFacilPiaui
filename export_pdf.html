<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exportar PDF</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Exportar Plano de Aula em PDF</h1>
        </header>

        <main>
            <p>Confira o plano de aula abaixo e clique no botão para exportar em PDF:</p>
            <div id="content" class="lesson-plan">
                <!-- O conteúdo dinâmico do plano de aula será inserido aqui -->
            </div>

            <div class="button-group">
                <button id="exportButton" class="button">Exportar PDF</button>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="js/pdf.js"></script>
    <script>
        // Função para carregar o conteúdo do plano de aula dinamicamente
        function carregarPlanoDeAula() {
            const contentDiv = document.getElementById('content');
            const planoDeAula = JSON.parse(localStorage.getItem('planoDeAula')); // Carrega os dados do localStorage

            if (planoDeAula) {
                contentDiv.innerHTML = `
                    <h2>Plano de Aula: ${planoDeAula.componenteCurricular} - ${planoDeAula.serie} Série</h2>
                    <p><strong>Área do Conhecimento:</strong> ${planoDeAula.areaConhecimento}</p>
                    <p><strong>Componente Curricular:</strong> ${planoDeAula.componenteCurricular}</p>
                    <p><strong>Série:</strong> ${planoDeAula.serie}</p>
                    <p><strong>Competência Específica:</strong> ${planoDeAula.competenciaEspecifica}</p>
                    <p><strong>Habilidade Específica:</strong> ${planoDeAula.habilidadeEspecifica}</p>
                    <p><strong>Objetivos de Aprendizagem:</strong> ${planoDeAula.objetivos}</p>
                    <p><strong>Objetos do Conhecimento:</strong> ${planoDeAula.objetosConhecimento.join(', ')}</p>
                    <p><strong>Metodologia:</strong> ${planoDeAula.metodologia}</p>
                    <p><strong>Material de Apoio:</strong> ${planoDeAula.materialDeApoio}</p>
                    <p><strong>Estratégia de Avaliação:</strong> ${planoDeAula.estrategiaDeAvaliacao}</p>
                `;
            } else {
                contentDiv.innerHTML = '<p>Nenhum plano de aula disponível para exportação.</p>';
            }
        }

        // Carrega o plano de aula ao iniciar a página
        document.addEventListener('DOMContentLoaded', carregarPlanoDeAula);

        // Configura o botão para exportar o conteúdo em PDF
        document.getElementById('exportButton').addEventListener('click', function() {
            var element = document.getElementById('content');
            html2pdf(element);
        });
    </script>
</body>
</html>
